(this["webpackJsonppunetori-ui"]=this["webpackJsonppunetori-ui"]||[]).push([[0],{19:function(e,t,a){e.exports=a.p+"static/media/eye.5380c6d1.svg"},20:function(e,t,a){e.exports=a.p+"static/media/eye-off.60923ccb.svg"},22:function(e,t,a){e.exports=a.p+"static/media/bookmark.6f770f93.svg"},39:function(e,t,a){e.exports=a.p+"static/media/menu.15028421.svg"},41:function(e,t,a){e.exports=a.p+"static/media/it-girl.735e245a.svg"},42:function(e,t,a){e.exports=a.p+"static/media/toolbox.65ff2b2a.svg"},43:function(e,t,a){e.exports=a.p+"static/media/pc.ba60edd2.svg"},44:function(e,t,a){e.exports=a.p+"static/media/printer.97f904d5.svg"},45:function(e,t,a){e.exports=a.p+"static/media/search.bdbd9ca9.svg"},46:function(e,t,a){e.exports=a.p+"static/media/check.ec630455.svg"},49:function(e,t,a){e.exports=a(78)},77:function(e,t,a){},78:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(36),l=a.n(c),s=a(6),o=a(7),u=a(37),i=a(38),m=a(48),p=a(47),d=a(4),b=r.a.createContext(),E=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={jobs:[],query:"",count:0,searchLoading:!1,searchError:!1,token:null,dropdownMenu:!1,verifySuccess:!1,verifyError:!1,setState:function(t,a){switch(t){case"jobs":e.setState({jobs:a});break;case"query":e.setState({query:a});break;case"count":e.setState({count:a});break;case"search-loading":e.setState({searchLoading:a});break;case"search-error":e.setState({searchError:a});break;case"token":e.setState({token:a});break;case"dropdown":e.setState({dropdownMenu:a});break;case"verifySuccess":e.setState({verifySuccess:a});break;case"verifyError":e.setState({verifyError:a})}},reset:function(){e.setState({jobs:[],query:"",count:0,searchError:!1})}},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=(new d.a).get("token");e&&this.setState({token:e})}},{key:"render",value:function(){return this.state.dropdownMenu?document.body.classList.add("body"):document.body.classList.remove("body"),r.a.createElement(b.Provider,{value:this.state},this.props.children)}}]),a}(n.Component),v=(b.Consumer,a(39)),f=a.n(v);function h(e){var t=e.history,a=Object(n.useContext)(b),c=a.token,l=a.setState,o=a.dropdownMenu,u=function(){l("token",null),(new d.a).remove("token"),"/"!==t.location.pathname&&t.push("/")};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"header",className:o?"test":""},r.a.createElement("div",{className:"header-container"},r.a.createElement("div",{className:"logo"},r.a.createElement("h2",null,r.a.createElement(s.b,{to:"/"},"Punetori"))),r.a.createElement("div",{className:"dropdown-button",onClick:function(){return l("dropdown",!o)}},r.a.createElement("img",{src:f.a,alt:"Dropdown Menu Icon"})),r.a.createElement("ul",null,c?r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement(s.b,{to:"/account"},"My Account")),r.a.createElement("li",null,r.a.createElement(s.b,{to:"/account/jobs"},"My Jobs")),r.a.createElement("li",null,r.a.createElement(s.b,{to:"/account/bookmark"},"My Bookmarks")),r.a.createElement("li",{onClick:function(){return u()},className:"logout"},"Log Out")):r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement(s.b,{to:"/login"},"Login")),r.a.createElement("li",null,r.a.createElement(s.b,{to:"/register"},"Register")))))),r.a.createElement("div",{className:"bc",style:{display:o?"block":null},onClick:function(){return l("dropdown",!o)}}),r.a.createElement("ul",{className:"dropdown-menu",style:{transform:o?"translateY(40px)":null},onClick:function(e){l("dropdown",!o)}},c?r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement(s.b,{to:"/account"},"My Account")),r.a.createElement("li",null,r.a.createElement(s.b,{to:"/account/jobs"},"My Jobs")),r.a.createElement("li",null,r.a.createElement(s.b,{to:"/account/bookmark"},"My Bookmarks")),r.a.createElement("li",{onClick:function(){return u()},className:"logout"},r.a.createElement("p",null,"Log Out"))):r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement(s.b,{to:"/login"},"Login")),r.a.createElement("li",null,r.a.createElement(s.b,{to:"/register"},"Register")))))}var j=a(41),k=a.n(j),w=a(42),y=a.n(w),g=a(43),O=a.n(g),N=a(44),x=a.n(N);function S(e){var t=e.history,a=Object(n.useContext)(b).token;return r.a.createElement("div",{id:"main-page"},r.a.createElement(h,{history:t}),r.a.createElement("div",{className:"jumbotron"},r.a.createElement("div",{className:"slogan"},r.a.createElement("h1",null,"Your Passion Begins Here !"),r.a.createElement("p",null,"Get notified via email every time a new job its available."),a?r.a.createElement(s.b,{to:"/search",className:"link-search"},r.a.createElement("button",null,"Search Jobs")):r.a.createElement(s.b,{to:"/register"},"Sign Up for free now.")),r.a.createElement("div",{className:"slogan-img"},r.a.createElement("img",{src:k.a,alt:"It Girl Icon"}))),r.a.createElement("div",{className:"explore"},r.a.createElement("h3",null,"Explore The Opportunities"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("img",{src:O.a,alt:"Pc Icon"}),r.a.createElement("p",null,"Developer")),r.a.createElement("div",{className:"col"},r.a.createElement("img",{src:y.a,alt:"Toolbox Icon"}),r.a.createElement("p",null,"Worker")),r.a.createElement("div",{className:"col"},r.a.createElement("img",{src:x.a,alt:"Printer Icon"}),r.a.createElement("p",null,"Office Worker"))),r.a.createElement(s.b,{to:"/search",className:"link-search"},r.a.createElement("button",null,"Search Jobs"))),r.a.createElement("footer",null,r.a.createElement("div",{className:"wrapper"},r.a.createElement("p",{className:"copyright"},"@Punetori 2020. All Rights Reserved"),r.a.createElement("a",{href:"https://github.com/bashvtini/punetori"},"API"))))}var P=a(2),C=a.n(P),T=a(5),A=a(1),I=a(45),L=a.n(I),U=a(3),R=a.n(U);function _(){var e=Object(n.useState)(""),t=Object(A.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(!1),s=Object(A.a)(l,2),o=s[0],u=s[1],i=Object(n.useState)(""),m=Object(A.a)(i,2),p=m[0],d=m[1],E=Object(n.useState)(0),v=Object(A.a)(E,2),f=v[0],h=v[1],j=Object(n.useContext)(b),k=j.setState,w=j.reset,y=function(){var e=Object(T.a)(C.a.mark((function e(t){var n,r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==a){e.next=5;break}return u(!0),setTimeout((function(){u(!1)}),2e3),e.abrupt("return");case 5:return k("search-loading",!0),w(),e.prev=7,n=window.API_URL,e.next=11,R.a.get("".concat(n,"search/").concat(a,"?city=").concat(p,"&type=").concat(f));case 11:r=e.sent,k("jobs",r.data.data),k("query",a),k("count",r.data.count),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(7),k("search-error",!0);case 20:k("search-loading",!1);case 21:case"end":return e.stop()}}),e,null,[[7,17]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{id:"search-form"},r.a.createElement("form",{onSubmit:y},r.a.createElement("div",{className:"search-query"},r.a.createElement("img",{src:L.a,alt:"Search Icon"}),r.a.createElement("input",{type:"text",placeholder:"Search Jobs...",onChange:function(e){return c(e.target.value)},value:a}),o?r.a.createElement("div",{className:"empty-input"},r.a.createElement("p",null,"Please provide a search query")):null),r.a.createElement("div",{className:"more-info"},r.a.createElement("div",{className:"city"},r.a.createElement("select",{onChange:function(e){""!==e.target.value&&d(e.target.value)}},["","tirane","durres","elbasan","fier","gjirokaster","kavaje","korce","kruje","kukes","lezhe","lushnje","permet","peshkopi","pogradec","puke","sarande","shkoder","skrapar","tepelene","tirane","tropoje","vlore"].map((function(e,t){return r.a.createElement("option",{value:e,key:t},""===e?"Select City":null,e.charAt(0).toUpperCase()+e.slice(1))})))),r.a.createElement("div",{className:"type"},r.a.createElement("select",{onChange:function(e){0!==e.target.value&&h(e.target.value)}},[{name:"Select Type",value:0},{name:"Full time",value:1},{name:"Part time",value:2},{name:"Intership",value:3}].map((function(e,t){return r.a.createElement("option",{value:e.value,key:t},0===e?"Select Type":null,e.name)}))))),r.a.createElement("button",null,"Search")))}function B(){var e=Object(n.useContext)(b),t=e.count,a=e.query,c=e.jobs,l=e.searchLoading,s=e.searchError;return r.a.createElement("div",{id:"search-results",className:"job-table"},l?r.a.createElement("div",{className:"loading"},r.a.createElement("div",{className:"loader"})):null,r.a.createElement("div",{className:"jobs-wrapper"},s?r.a.createElement("h1",{style:{textAlign:"center"}},"Nothing was found"):null,0!==c.length?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"results-header"},r.a.createElement("p",null,a.charAt(0).toUpperCase()+a.slice(1)," in Albania"),r.a.createElement("p",{className:"jobs-no"},t," Jobs")),r.a.createElement("ul",{className:"jobs"},c.map((function(e,t){return r.a.createElement("li",{key:t},r.a.createElement("a",{href:e.link,target:"_blank"},r.a.createElement("p",null,e.title)))})))):null))}function F(e){var t=e.history;return r.a.createElement(r.a.Fragment,null,r.a.createElement(h,{history:t}),r.a.createElement(_,null),r.a.createElement(B,null))}function J(e){var t=e.history,a=Object(n.useState)(""),c=Object(A.a)(a,2),l=c[0],o=c[1],u=Object(n.useState)(""),i=Object(A.a)(u,2),m=i[0],p=i[1],E=Object(n.useState)(!1),v=Object(A.a)(E,2),f=v[0],j=v[1],k=Object(n.useState)(!1),w=Object(A.a)(k,2),y=w[0],g=w[1],O=Object(n.useState)(!1),N=Object(A.a)(O,2),x=N[0],S=N[1],P=Object(n.useState)(!1),I=Object(A.a)(P,2),L=I[0],U=I[1],_=Object(n.useState)(!1),B=Object(A.a)(_,2),F=B[0],J=B[1],D=Object(n.useState)(!1),M=Object(A.a)(D,2),z=M[0],q=M[1],Y=Object(n.useContext)(b).setState,$=function(){var e=Object(T.a)(C.a.mark((function e(a){var n,r,c;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),n=!1,""===l&&(S(!0),n=!0,setTimeout((function(){S(!1)}),2e3)),""===m&&(U(!0),n=!0,setTimeout((function(){U(!1)}),2e3)),!n){e.next=6;break}return e.abrupt("return");case 6:if(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(l)||(J(!0),n=!0,setTimeout((function(){J(!1)}),2e3)),m.length>5&&m.length<100||(q(!0),n=!0,setTimeout((function(){q(!1)}),2e3)),!n){e.next=11;break}return e.abrupt("return");case 11:return j(!0),e.prev=12,r=window.API_URL,e.next=16,R.a.post("".concat(r,"auth/login"),{email:l,password:m});case 16:c=e.sent,(new d.a).set("token",c.data.token),Y("token",c.data.token),j(!1),t.push("/"),e.next=29;break;case 24:e.prev=24,e.t0=e.catch(12),g(!0),j(!1),setTimeout((function(){g(!1)}),2e3);case 29:case"end":return e.stop()}}),e,null,[[12,24]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){(new d.a).get("token")&&t.push("/")}),[]),r.a.createElement("div",{id:"login",className:"user-form"},r.a.createElement(h,{history:t}),r.a.createElement("form",{onSubmit:$},r.a.createElement("h2",null,"Login"),r.a.createElement("div",{className:"email"},r.a.createElement("p",null,"Email Address"),r.a.createElement("input",{type:"text",placeholder:"Email Address",onChange:function(e){return o(e.target.value.toLocaleLowerCase())},style:y?{boxShadow:"0 0 0px 2px #ad1212e6"}:{}}),x?r.a.createElement("div",{className:"empty-input"},r.a.createElement("p",null,"Please provide an email address")):null,F?r.a.createElement("div",{className:"empty-input"},r.a.createElement("p",null,"Please provide a valid email address")):null),r.a.createElement("div",{className:"password"},r.a.createElement("p",null,"Passsword"),r.a.createElement("input",{type:"password",placeholder:"Passsword",min:"6",max:"100",onChange:function(e){return p(e.target.value)},style:y?{boxShadow:"0 0 0px 2px #ad1212e6"}:{}}),L?r.a.createElement("div",{className:"empty-input"},r.a.createElement("p",null,"Please provide a password")):null,z?r.a.createElement("div",{className:"empty-input"},r.a.createElement("p",null,"Please provide a 6 char password")):null),r.a.createElement("div",{className:"submit"},r.a.createElement("button",{type:"submit"},f?r.a.createElement("div",{className:"loader"}):null,"Login"),y?r.a.createElement("div",{className:"empty-input"},r.a.createElement("p",null,"Invalide Credentials")):null),r.a.createElement(s.b,{to:"/forgotpassword"},"Forgot Password")))}function D(e){var t=e.history,a=Object(n.useState)(""),c=Object(A.a)(a,2),l=c[0],s=c[1],o=Object(n.useState)(""),u=Object(A.a)(o,2),i=u[0],m=u[1],p=Object(n.useState)(""),b=Object(A.a)(p,2),E=b[0],v=b[1],f=Object(n.useState)(""),j=Object(A.a)(f,2),k=j[0],w=j[1],y=Object(n.useState)(""),g=Object(A.a)(y,2),O=g[0],N=g[1],x=Object(n.useState)(0),S=Object(A.a)(x,2),P=S[0],I=S[1],L=Object(n.useState)(!1),U=Object(A.a)(L,2),_=U[0],B=U[1],F=Object(n.useState)(!1),J=Object(A.a)(F,2),D=J[0],M=J[1],z=Object(n.useState)(!1),q=Object(A.a)(z,2),Y=q[0],$=q[1],W=Object(n.useState)(!1),G=Object(A.a)(W,2),H=G[0],K=G[1],Q=Object(n.useState)(!1),V=Object(A.a)(Q,2),X=V[0],Z=V[1],ee=Object(n.useState)(!1),te=Object(A.a)(ee,2),ae=te[0],ne=te[1],re=Object(n.useState)(!1),ce=Object(A.a)(re,2),le=ce[0],se=ce[1],oe=Object(n.useState)(!1),ue=Object(A.a)(oe,2),ie=ue[0],me=ue[1],pe=Object(n.useState)(!1),de=Object(A.a)(pe,2),be=de[0],Ee=de[1],ve=function(){var e=Object(T.a)(C.a.mark((function e(t){var a,n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=!1,""===l&&(B(!0),a=!0,setTimeout((function(){B(!1)}),2e3)),""===i&&(M(!0),a=!0,setTimeout((function(){M(!1)}),2e3)),""===E&&($(!0),a=!0,setTimeout((function(){$(!1)}),2e3)),""===k&&(K(!0),a=!0,setTimeout((function(){K(!1)}),2e3)),!a){e.next=8;break}return e.abrupt("return");case 8:if(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(i)||(Z(!0),a=!0,setTimeout((function(){Z(!1)}),2e3)),k.length>5&&k.length<100||(ne(!0),a=!0,setTimeout((function(){ne(!1)}),2e3)),!a){e.next=13;break}return e.abrupt("return");case 13:return se(!0),me(!1),e.prev=15,n=window.API_URL,e.next=19,R.a.post("".concat(n,"auth/register"),{name:l,email:i,jobTitle:E,password:k,city:O,type:P});case 19:Ee(!0),se(!1),e.next=28;break;case 23:e.prev=23,e.t0=e.catch(15),se(!1),me(!0),setTimeout((function(){me(!1)}),2e3);case 28:case"end":return e.stop()}}),e,null,[[15,23]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){(new d.a).get("token")&&t.push("/")}),[]),r.a.createElement("div",{id:"register",className:"user-form"},r.a.createElement(h,{history:t}),r.a.createElement("form",{onSubmit:ve},r.a.createElement("h1",null,"Register"),r.a.createElement("div",{className:"name"},r.a.createElement("p",null,"Full Name"),r.a.createElement("input",{type:"text",placeholder:"Full Name",onChange:function(e){return s(e.target.value)},value:l}),_?r.a.createElement("div",{className:"empty-input"},r.a.createElement("p",null,"Please provide a Name")):null),r.a.createElement("div",{className:"email"},r.a.createElement("p",null,"Email Address"),r.a.createElement("input",{type:"text",placeholder:"Email Address",onChange:function(e){return m(e.target.value)},value:i}),D?r.a.createElement("div",{className:"empty-input"},r.a.createElement("p",null,"Please provide an email address")):null,X?r.a.createElement("div",{className:"empty-input"},r.a.createElement("p",null,"Please provide a valid email address")):null),r.a.createElement("div",{className:"job-title"},r.a.createElement("p",null,"Job Title"),r.a.createElement("input",{type:"text",placeholder:"Job Title",onChange:function(e){return v(e.target.value)},value:E}),Y?r.a.createElement("div",{className:"empty-input"},r.a.createElement("p",null,"Please provide a job title")):null),r.a.createElement("div",{className:"more-info"},r.a.createElement("div",{className:"city"},r.a.createElement("p",null,"City"),r.a.createElement("select",{onChange:function(e){""!==e.target.value&&N(e.target.value)}},["","tirane","durres","elbasan","fier","gjirokaster","kavaje","korce","kruje","kukes","lezhe","lushnje","permet","peshkopi","pogradec","puke","sarande","shkoder","skrapar","tepelene","tirane","tropoje","vlore"].map((function(e,t){return r.a.createElement("option",{value:e,key:t},""===e?"Select City":null,e.charAt(0).toUpperCase()+e.slice(1))})))),r.a.createElement("div",{className:"type"},r.a.createElement("p",null,"Type"),r.a.createElement("select",{onChange:function(e){0!==e.target.value&&I(e.target.value)}},[{name:"Select Type",value:0},{name:"Full time",value:1},{name:"Part time",value:2},{name:"Intership",value:3}].map((function(e,t){return r.a.createElement("option",{value:e.value,key:t},0===e?"Select Type":null,e.name)}))))),r.a.createElement("div",{className:"password"},r.a.createElement("p",null,"Password"),r.a.createElement("input",{type:"password",placeholder:"Password",onChange:function(e){return w(e.target.value)},value:k}),H?r.a.createElement("div",{className:"empty-input"},r.a.createElement("p",null,"Please provide a password")):null,ae?r.a.createElement("div",{className:"empty-input"},r.a.createElement("p",null,"Please provide a 6 char password")):null),r.a.createElement("div",{className:"submit"},r.a.createElement("button",{type:"submit"},le?r.a.createElement("div",{className:"loader"}):null," Register"),ie?r.a.createElement("div",{className:"empty-input"},r.a.createElement("p",null,"User already exists")):null,be?r.a.createElement("div",{className:"empty-input success"},r.a.createElement("p",null,"Please check your email address")):null)))}var M=a(46),z=a.n(M);function q(e){var t=e.history,a=Object(n.useState)(""),c=Object(A.a)(a,2),l=c[0],o=c[1],u=Object(n.useState)(""),i=Object(A.a)(u,2),m=i[0],p=i[1],E=Object(n.useState)(""),v=Object(A.a)(E,2),f=v[0],j=v[1],k=Object(n.useState)(!1),w=Object(A.a)(k,2),y=w[0],g=w[1],O=Object(n.useState)(!1),N=Object(A.a)(O,2),x=N[0],S=N[1],P=Object(n.useState)(!1),I=Object(A.a)(P,2),L=I[0],U=I[1],_=Object(n.useState)(!1),B=Object(A.a)(_,2),F=B[0],J=B[1],D=Object(n.useState)(!1),M=Object(A.a)(D,2),q=M[0],Y=M[1],$=Object(n.useState)(!1),W=Object(A.a)($,2),G=W[0],H=W[1],K=Object(n.useState)(!1),Q=Object(A.a)(K,2),V=Q[0],X=Q[1],Z=Object(n.useState)(!1),ee=Object(A.a)(Z,2),te=ee[0],ae=ee[1],ne=Object(n.useState)(!1),re=Object(A.a)(ne,2),ce=re[0],le=re[1],se=Object(n.useContext)(b).setState,oe=function(){var e=Object(T.a)(C.a.mark((function e(t){var a,n,r,c;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=!1,""===l&&(U(!0),a=!0,setTimeout((function(){U(!1)}),2e3)),""===m&&(J(!0),a=!0,setTimeout((function(){J(!1)}),2e3)),""===f&&(Y(!0),a=!0,setTimeout((function(){Y(!1)}),2e3)),!a){e.next=7;break}return e.abrupt("return");case 7:if(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(m)||(H(!0),a=!0,setTimeout((function(){H(!1)}),2e3)),!a){e.next=11;break}return e.abrupt("return");case 11:return X(!0),ae(!1),e.prev=13,n=new d.a,r=n.get("token"),c=window.API_URL,e.next=19,R.a.put("".concat(c,"auth/update"),{name:l,email:m,jobTitle:f,sendEmail:y},{headers:{"Content-Type":"application/json",Authorization:"Bearer "+r}});case 19:le(!0),setTimeout((function(){le(!1)}),2e3),e.next=27;break;case 23:e.prev=23,e.t0=e.catch(13),ae(!0),setTimeout((function(){ae(!1)}),2e3);case 27:X(!1);case 28:case"end":return e.stop()}}),e,null,[[13,23]])})));return function(t){return e.apply(this,arguments)}}(),ue=function(){var e=Object(T.a)(C.a.mark((function e(t){var a,n,r,c,l,s,u;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=window.API_URL,e.next=3,R.a.get("".concat(a,"auth/me"),{headers:{"Content-Type":"application/json",Authorization:"Bearer "+t}});case 3:n=e.sent,r=n.data.user,c=r.name,l=r.email,s=r.jobTitle,u=r.sendEmail,o(c),p(l),j(s),g(u);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ie=function(){var e=Object(T.a)(C.a.mark((function e(){var a,n,r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new d.a,n=a.get("token"),r=window.API_URL,e.prev=3,e.next=6,R.a.delete("".concat(r,"auth/remove"),{headers:{"Content-Type":"application/json",Authorization:"Bearer "+n}});case 6:a.remove("token"),se("token",null),t.push("/"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.log("Something went wrong");case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){var e=(new d.a).get("token");e?ue(e):t.push("/")}),[]),r.a.createElement("div",{id:"user-detail",className:"user-form"},r.a.createElement(h,{history:t}),x?r.a.createElement("div",{className:"delete-modal"},r.a.createElement("h1",null,"Are you shure you want to delete your account"),r.a.createElement("div",null,r.a.createElement("button",{className:"delete",onClick:function(){return ie()}},"Yes"),r.a.createElement("button",{onClick:function(){return S(!1)}},"No"))):null,r.a.createElement("form",{onSubmit:oe},r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement("h1",null,"User Detail"),r.a.createElement("button",{className:"delete",type:"button",onClick:function(){return S(!0)}},"Delete Account")),r.a.createElement("div",{className:"name"},r.a.createElement("p",null,"Full Name"),r.a.createElement("input",{type:"text",placeholder:"Full Name",onChange:function(e){return o(e.target.value)},value:l}),L?r.a.createElement("div",{className:"empty-input"},r.a.createElement("p",null,"Please provide a Name")):null),r.a.createElement("div",{className:"email"},r.a.createElement("p",null,"Email Address"),r.a.createElement("input",{type:"text",placeholder:"Email Address",onChange:function(e){return p(e.target.value)},value:m}),F?r.a.createElement("div",{className:"empty-input"},r.a.createElement("p",null,"Please provide an email address")):null,G?r.a.createElement("div",{className:"empty-input"},r.a.createElement("p",null,"Please provide a valid email address")):null),r.a.createElement("div",{className:"job-title"},r.a.createElement("p",null,"Job Title"),r.a.createElement("input",{type:"text",placeholder:"Job Title",onChange:function(e){return j(e.target.value)},value:f}),q?r.a.createElement("div",{className:"empty-input"},r.a.createElement("p",null,"Please provide a job title")):null),r.a.createElement("div",{className:"send-emails"},r.a.createElement("p",null,"Send Email"),r.a.createElement("div",{className:"check",onClick:function(){return g(!y)}},y?r.a.createElement("img",{src:z.a,alt:"Check Icon"}):null)),r.a.createElement("div",{className:"submit"},r.a.createElement("button",{type:"submit"},V?r.a.createElement("div",{className:"loader"}):null," Update"),te?r.a.createElement("div",{className:"empty-input"},r.a.createElement("p",null,"Invalid Credentials")):null,ce?r.a.createElement("div",{className:"empty-input success"},r.a.createElement("p",null,"Details Updated Successfully")):null),r.a.createElement(s.b,{to:"/account/password"},"Change Password")))}var Y=a(19),$=a.n(Y),W=a(20),G=a.n(W);function H(e){var t=e.history,a=Object(n.useState)(""),c=Object(A.a)(a,2),l=c[0],s=c[1],o=Object(n.useState)(""),u=Object(A.a)(o,2),i=u[0],m=u[1],p=Object(n.useState)(!1),b=Object(A.a)(p,2),E=b[0],v=b[1],f=Object(n.useState)(!1),j=Object(A.a)(f,2),k=j[0],w=j[1],y=Object(n.useState)(!1),g=Object(A.a)(y,2),O=g[0],N=g[1],x=Object(n.useState)(!1),S=Object(A.a)(x,2),P=S[0],I=S[1],L=Object(n.useState)(!1),U=Object(A.a)(L,2),_=U[0],B=U[1],F=Object(n.useState)(!1),J=Object(A.a)(F,2),D=J[0],M=J[1],z=Object(n.useState)(!1),q=Object(A.a)(z,2),Y=q[0],W=q[1],H=Object(n.useState)(!1),K=Object(A.a)(H,2),Q=K[0],V=K[1],X=Object(n.useState)(!1),Z=Object(A.a)(X,2),ee=Z[0],te=Z[1],ae=function(){var e=Object(T.a)(C.a.mark((function e(t){var a,n,r,c;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=!1,""===l&&(N(!0),a=!0,setTimeout((function(){N(!1)}),2e3)),""===i&&(I(!0),a=!0,setTimeout((function(){I(!1)}),2e3)),!a){e.next=6;break}return e.abrupt("return");case 6:if(l.length>5&&l.length<100||(B(!0),a=!0,setTimeout((function(){B(!1)}),2e3)),i.length>5&&i.length<100||(M(!0),a=!0,setTimeout((function(){M(!1)}),2e3)),!a){e.next=10;break}return e.abrupt("return");case 10:return W(!0),e.prev=11,n=new d.a,r=n.get("token"),c=window.API_URL,e.next=17,R.a.put("".concat(c,"auth/update/password"),{currentPassword:l,newPassword:i},{headers:{"Content-Type":"application/json",Authorization:"Bearer "+r}});case 17:te(!0),setTimeout((function(){te(!1)}),2e3),e.next=25;break;case 21:e.prev=21,e.t0=e.catch(11),V(!0),setTimeout((function(){V(!1)}),2e3);case 25:W(!1);case 26:case"end":return e.stop()}}),e,null,[[11,21]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){(new d.a).get("token")||t.push("/")}),[]),r.a.createElement("div",{id:"update-password",className:"user-form"},r.a.createElement(h,{history:t}),r.a.createElement("form",{onSubmit:ae},r.a.createElement("h1",null,"Change Password"),r.a.createElement("div",{className:"password"},r.a.createElement("p",null,"Current Password"),r.a.createElement("div",{className:"wrapper"},r.a.createElement("input",{type:E?"text":"password",placeholder:"Current Password",onChange:function(e){return s(e.target.value)},value:l}),r.a.createElement("div",{className:"show",onClick:function(){return v(!E)}},r.a.createElement("img",{src:E?G.a:$.a,alt:"Eye Icon"}))),O?r.a.createElement("div",{className:"empty-input"},r.a.createElement("p",null,"Please provide current password")):null,_?r.a.createElement("div",{className:"empty-input"},r.a.createElement("p",null,"Please provide a 6 char password")):null),r.a.createElement("div",{className:"password"},r.a.createElement("p",null,"New Password"),r.a.createElement("div",{className:"wrapper"},r.a.createElement("input",{type:k?"text":"password",placeholder:"New Password",onChange:function(e){return m(e.target.value)},value:i}),r.a.createElement("div",{className:"show",onClick:function(){return w(!k)}},r.a.createElement("img",{src:k?G.a:$.a,alt:"Eye Icon"}))),P?r.a.createElement("div",{className:"empty-input"},r.a.createElement("p",null,"Please provide new password")):null,D?r.a.createElement("div",{className:"empty-input"},r.a.createElement("p",null,"Please provide a 6 char password")):null),r.a.createElement("div",{className:"submit"},r.a.createElement("button",{type:"submit"},Y?r.a.createElement("div",{className:"loader"}):null," Update Password"),Q?r.a.createElement("div",{className:"empty-input"},r.a.createElement("p",null,"Invalid Credentials")):null,ee?r.a.createElement("div",{className:"empty-input success"},r.a.createElement("p",null,"Password Updated Successfully")):null)))}function K(e){var t=e.history,a=Object(n.useState)(""),c=Object(A.a)(a,2),l=c[0],s=c[1],o=Object(n.useState)(!1),u=Object(A.a)(o,2),i=u[0],m=u[1],p=Object(n.useState)(!1),d=Object(A.a)(p,2),b=d[0],E=d[1],v=Object(n.useState)(!1),f=Object(A.a)(v,2),j=f[0],k=f[1],w=Object(n.useState)(!1),y=Object(A.a)(w,2),g=y[0],O=y[1],N=Object(n.useState)(!1),x=Object(A.a)(N,2),S=x[0],P=x[1],I=function(){var e=Object(T.a)(C.a.mark((function e(t){var a,n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=!1,""===l&&(m(!0),a=!0,setTimeout((function(){m(!1)}),2e3)),!a){e.next=5;break}return e.abrupt("return");case 5:if(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(l)||(E(!0),a=!0,setTimeout((function(){E(!1)}),2e3)),!a){e.next=9;break}return e.abrupt("return");case 9:return k(!0),e.prev=10,n=window.API_URL,e.next=14,R.a.post("".concat(n,"auth/forgotpassword"),{email:l});case 14:P(!0),setTimeout((function(){P(!1)}),2e3),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(10),O(!0),setTimeout((function(){O(!1)}),2e3);case 22:k(!1);case 23:case"end":return e.stop()}}),e,null,[[10,18]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{id:"forgot-password",className:"user-form"},r.a.createElement(h,{history:t}),r.a.createElement("form",{onSubmit:I},r.a.createElement("h1",null,"Reset your password"),r.a.createElement("p",null,"Enter your user account's verified email address and we will send you a password reset link."),r.a.createElement("div",{className:"email"},r.a.createElement("p",null,"Email Address"),r.a.createElement("input",{type:"text",placeholder:"Email Address",onChange:function(e){return s(e.target.value)},value:l}),i?r.a.createElement("div",{className:"empty-input"},r.a.createElement("p",null,"Please provide an email address")):null,b?r.a.createElement("div",{className:"empty-input"},r.a.createElement("p",null,"Please provide a valid email address")):null),r.a.createElement("div",{className:"submit"},r.a.createElement("button",{type:"submit"},j?r.a.createElement("div",{className:"loader"}):null,"Send"),g?r.a.createElement("div",{className:"empty-input"},r.a.createElement("p",null,"Invalide Credentials")):null,S?r.a.createElement("div",{className:"empty-input success"},r.a.createElement("p",null,"Email Send Successfully")):null)))}function Q(e){var t=e.history,a=e.match,c=Object(n.useState)(""),l=Object(A.a)(c,2),s=l[0],o=l[1],u=Object(n.useState)(!1),i=Object(A.a)(u,2),m=i[0],p=i[1],d=Object(n.useState)(!1),b=Object(A.a)(d,2),E=b[0],v=b[1],f=Object(n.useState)(!1),j=Object(A.a)(f,2),k=j[0],w=j[1],y=Object(n.useState)(!1),g=Object(A.a)(y,2),O=g[0],N=g[1],x=Object(n.useState)(!1),S=Object(A.a)(x,2),P=S[0],I=S[1],L=Object(n.useState)(!1),U=Object(A.a)(L,2),_=U[0],B=U[1],F=function(){var e=Object(T.a)(C.a.mark((function e(t){var n,r,c;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=!1,""===s&&(p(!0),n=!0,setTimeout((function(){p(!1)}),2e3)),!n){e.next=5;break}return e.abrupt("return");case 5:if(s.length>5&&s.length<100||(v(!0),n=!0,setTimeout((function(){v(!1)}),2e3)),!n){e.next=8;break}return e.abrupt("return");case 8:return N(!0),e.prev=9,r=a.params.token,c=window.API_URL,e.next=14,R.a.put("".concat(c,"auth/resetpassword/").concat(r),{password:s});case 14:B(!0),setTimeout((function(){B(!1)}),2e3),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(9),I(!0),setTimeout((function(){I(!1)}),2e3);case 22:N(!1);case 23:case"end":return e.stop()}}),e,null,[[9,18]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{id:"reset-password",className:"user-form"},r.a.createElement(h,{history:t}),r.a.createElement("form",{onSubmit:F},r.a.createElement("h1",null,"Reset Password"),r.a.createElement("div",{className:"password"},r.a.createElement("p",null,"New Password"),r.a.createElement("div",{className:"wrapper"},r.a.createElement("input",{type:k?"text":"password",placeholder:"New Password",onChange:function(e){return o(e.target.value)},value:s}),r.a.createElement("div",{className:"show",onClick:function(){return w(!k)}},r.a.createElement("img",{src:k?G.a:$.a,alt:"Eye Icon"}))),m?r.a.createElement("div",{className:"empty-input"},r.a.createElement("p",null,"Please provide new password")):null,E?r.a.createElement("div",{className:"empty-input"},r.a.createElement("p",null,"Please provide a 6 char password")):null),r.a.createElement("div",{className:"submit"},r.a.createElement("button",{type:"submit"},O?r.a.createElement("div",{className:"loader"}):null," Reset Password"),P?r.a.createElement("div",{className:"empty-input"},r.a.createElement("p",null,"Invalid Token")):null,_?r.a.createElement("div",{className:"empty-input success"},r.a.createElement("p",null,"Password Reseted Successfully")):null)))}var V=a(15),X=a(16),Z=a(22),ee=a.n(Z);function te(e){var t=e.history,a=Object(n.useState)([]),c=Object(A.a)(a,2),l=c[0],s=c[1],o=Object(n.useState)(""),u=Object(A.a)(o,2),i=u[0],m=u[1],p=Object(n.useState)(!0),b=Object(A.a)(p,2),E=b[0],v=b[1],f=function(){var e=Object(T.a)(C.a.mark((function e(t){var a,n,r,c,o;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=new d.a,n=a.get("token"),r=window.API_URL,l[t].bookmarked){e.next=17;break}return e.prev=4,e.next=7,R.a.post("".concat(r,"auth/bookmark"),Object(X.a)({},l[t]),{headers:{"Content-Type":"application/json",Authorization:"Bearer "+n}});case 7:(c=Object(V.a)(l))[t].bookmarked=!0,s(c),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),console.log("Somthing went wrong");case 15:e.next=27;break;case 17:return e.prev=17,e.next=20,R.a.delete("".concat(r,"auth/bookmark/").concat((u=l[t].link).includes("njoftimefalas.com")?u.split("oferta-njoftime-pune/")[1]:u.includes("duapune.com")?u.split("/jobs/")[1]:u.includes("njoftime.com")?u.split("showthread.php?")[1]:void 0),{headers:{Authorization:"Bearer "+n}});case 20:(o=Object(V.a)(l))[t].bookmarked=!1,s(o),e.next=27;break;case 25:e.prev=25,e.t1=e.catch(17);case 27:case"end":return e.stop()}var u}),e,null,[[4,12],[17,25]])})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(T.a)(C.a.mark((function e(t){var a,n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=window.API_URL,e.prev=1,e.next=4,R.a.get("".concat(a,"auth/jobs"),{headers:{"Content-Type":"application/json",Authorization:"Bearer "+t}});case 4:n=e.sent,m(n.data.query),s(n.data.data),v(!1),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(1);case 12:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){var e=(new d.a).get("token");e?j(e):t.push("/")}),[]),r.a.createElement("div",{id:"user-jobs",className:"job-table"},r.a.createElement(h,{history:t}),r.a.createElement("div",{className:"jobs-wrapper"},E?r.a.createElement("div",{className:"loading"},r.a.createElement("div",{className:"loader"})):null,0!==l.length?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"results-header"},r.a.createElement("p",null,i.charAt(0).toUpperCase()+i.slice(1)," in Albania"),r.a.createElement("p",{className:"jobs-no"},l.length," Jobs")),r.a.createElement("ul",{className:"jobs"},l.map((function(e,t){return r.a.createElement("li",{key:t},r.a.createElement("a",{href:e.link,target:"_blank"},e.title),r.a.createElement("div",{className:"bookmark ".concat(e.bookmarked?"bookmarked":""),onClick:function(){return f(t)}},r.a.createElement("img",{src:ee.a,alt:"Bookmark Icon"})))})))):null))}function ae(e){var t=e.history,a=Object(n.useState)([]),c=Object(A.a)(a,2),l=c[0],s=c[1],o=Object(n.useState)(!0),u=Object(A.a)(o,2),i=u[0],m=u[1],p=function(){var e=Object(T.a)(C.a.mark((function e(t){var a,n,r,c,o;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=new d.a,n=a.get("token"),r=window.API_URL,l[t].bookmarked){e.next=17;break}return e.prev=4,e.next=7,R.a.post("".concat(r,"auth/bookmark"),Object(X.a)({},l[t]),{headers:{"Content-Type":"application/json",Authorization:"Bearer "+n}});case 7:(c=Object(V.a)(l))[t].bookmarked=!0,s(c),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),console.log("Somthing went wrong");case 15:e.next=27;break;case 17:return e.prev=17,e.next=20,R.a.delete("".concat(r,"auth/bookmark/").concat((u=l[t].link).includes("njoftimefalas.com")?u.split("oferta-njoftime-pune/")[1]:u.includes("duapune.com")?u.split("/jobs/")[1]:u.includes("njoftime.com")?u.split("showthread.php?")[1]:void 0),{headers:{Authorization:"Bearer "+n}});case 20:(o=Object(V.a)(l))[t].bookmarked=!1,s(o),e.next=27;break;case 25:e.prev=25,e.t1=e.catch(17);case 27:case"end":return e.stop()}var u}),e,null,[[4,12],[17,25]])})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(T.a)(C.a.mark((function e(t){var a,n,r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=window.API_URL,e.prev=1,e.next=4,R.a.get("".concat(a,"auth/bookmark"),{headers:{Authorization:"Bearer "+t}});case 4:n=e.sent,r=n.data.data.map((function(e){return Object(X.a)(Object(X.a)({},e),{},{bookmarked:!0})})),s(r),m(!1),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(1);case 12:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){var e=(new d.a).get("token");e?b(e):t.push("/")}),[]),r.a.createElement("div",{id:"user-bookmarks",className:"job-table"},r.a.createElement(h,{history:t}),r.a.createElement("div",{className:"jobs-wrapper"},i?r.a.createElement("div",{className:"loading"},r.a.createElement("div",{className:"loader"})):null,0!==l.length?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"results-header"},r.a.createElement("p",null,"Your Bookmarks"),r.a.createElement("p",{className:"jobs-no"},l.length," Jobs")),r.a.createElement("ul",{className:"jobs"},l.map((function(e,t){return r.a.createElement("li",{key:t},r.a.createElement("a",{href:e.link,target:"_blank"},e.title),r.a.createElement("div",{className:"bookmark ".concat(e.bookmarked?"bookmarked":""),onClick:function(){return p(t)}},r.a.createElement("img",{src:ee.a,alt:"Bookmark Icon"})))})))):null,0!==l.length||i?null:r.a.createElement("h1",{style:{textAlign:"center",marginTop:"50px"}},"You have no bookmarked Jobs")))}function ne(e){var t=e.match,a=e.history,c=Object(n.useContext)(b).setState,l=function(){var e=Object(T.a)(C.a.mark((function e(){var n,r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=window.API_URL,e.prev=1,e.next=4,R.a.get("".concat(n,"auth/verify/").concat(t.params.token));case 4:r=e.sent,(new d.a).set("token",r.data.token),c("token",r.data.token),c("verifySuccess",!0),a.push("/"),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),c("verifyError",!0),a.push("/");case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){(new d.a).get("token")||l(),a.push("/")}),[]),r.a.createElement("div",null,"Please Wait")}function re(e){var t=e.history;return r.a.createElement("div",{id:"not-found"},r.a.createElement(h,{history:t}),r.a.createElement("h1",{style:{textAlign:"center",margin:"50px 0"}},"404 Page Not Found"))}function ce(){return r.a.createElement(E,null,r.a.createElement(s.a,null,r.a.createElement(o.c,null,r.a.createElement(o.a,{exact:!0,path:"/",component:S}),r.a.createElement(o.a,{exact:!0,path:"/search",component:F}),r.a.createElement(o.a,{exact:!0,path:"/login",component:J}),r.a.createElement(o.a,{exact:!0,path:"/register",component:D}),r.a.createElement(o.a,{exact:!0,path:"/verify/:token",component:ne}),r.a.createElement(o.a,{exact:!0,path:"/account",component:q}),r.a.createElement(o.a,{exact:!0,path:"/account/password",component:H}),r.a.createElement(o.a,{exact:!0,path:"/account/jobs",component:te}),r.a.createElement(o.a,{exact:!0,path:"/account/bookmark",component:ae}),r.a.createElement(o.a,{exact:!0,path:"/forgotpassword",component:K}),r.a.createElement(o.a,{exact:!0,path:"/resetpassword/:token",component:Q}),r.a.createElement(o.a,{exact:!0,path:"*",component:re}))))}a(77);window.API_URL="http://localhost:5000/",l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ce,null)),document.getElementById("root"))}},[[49,1,2]]]);
//# sourceMappingURL=main.3d2986b2.chunk.js.map